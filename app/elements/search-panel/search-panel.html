<!--
@license
Copyright (c) 2015 John Schweikert. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="search-panel">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <div>
      <paper-input label="Search Term" value="{{_searchTerm}}"></paper-input>
      <paper-icon-button class="clear-button" icon="clear" on-click="_handleClear"></paper-icon-button>
    </div>
    
    <place-dataset search-string="[[_searchTerm]]" search-results="{{_searchResults}}" app-options="[[appOptions]]"></place-dataset>

    <div class="layout vertical flex">
      <!--<iron-list items="[[_searchResults]]">-->
        <template is="dom-repeat" items="[[_searchResults]]">
          <place-card my-location="[[myLocation]]" place="[[item]]" marker-url="[[_markerUrl(index)]]"></place-card>
        </template>
      <!--</iron-list>-->
    </div>
    

  </template>
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'search-panel',

      properties: {
        myLocation: {
          type: Object
        },
        appOptions: {
          type: Object
        }
/*        foo: {
          type: String,
          value: 'search-panel',
          notify: true
        }*/
      },
      _markerUrl: function(index) {
        return 'https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld=' + (index+1) + '|00FF00|000000';
      },

      
    });
  })();
  </script>
</dom-module>
